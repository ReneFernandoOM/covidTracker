document.querySelectorAll(".world-spinner"),document.querySelector("#affectedCountries"),document.querySelector("#casesConfirmed"),document.querySelector("#deathsConfirmed"),document.querySelector("#vaccAdmin"),document.querySelector("#vaccPers"),document.querySelector("#vaccPersPart"),(()=>{document.querySelectorAll(".country-spinner");const e=document.querySelector("#countryOptions"),t=document.querySelector("#updateCountryData"),o=document.querySelector("#countryLabel");(async()=>{const t=await fetch("static/countries.json");(await t.json()).forEach((t=>{let o=document.createElement("option");o.value=t,o.text=t,e.appendChild(o)})),$(e).selectpicker("refresh"),$(e).selectpicker("val","Mexico")})(),t.addEventListener("click",(()=>{o.innerText=e.value,(async()=>{const t=await fetch(`https://covid-api.mmediagroup.fr/v1/history?country=${e.value}&status=confirmed`,{mode:"cors"});return await t.json()})().then((e=>(e=>{const t={type:"line",data:{datasets:[{label:"Casos confirmados: ",backgroundColor:"rgb(212, 126, 15)",borderColor:"rgb(212, 126, 15)",data:e.All.dates}]},options:{scales:{xAxes:{reverse:!0}},plugins:{legend:{display:!1},title:{display:!0,text:"Casos confirmados"}}}};new Chart(document.getElementById("countryHistConf"),t)})(e))),(async()=>{const t=await fetch(`https://covid-api.mmediagroup.fr/v1/history?country=${e.value}&status=deaths`,{mode:"cors"});return await t.json()})().then((e=>(e=>{const t={type:"line",data:{datasets:[{label:"Defunciones: ",backgroundColor:"rgb(186, 43, 43)",borderColor:"rgb(186, 43, 43)",data:e.All.dates}]},options:{scales:{xAxes:{reverse:!0}},plugins:{legend:{display:!1},title:{display:!0,text:"Defunciones"}}}};new Chart(document.getElementById("countryHistDeaths"),t)})(e))),(async()=>{let t=await fetch(`https://covid-api.mmediagroup.fr/v1/vaccines?country=${e.value}`),o=(await t.json()).All;o.administered,o.people_vaccinated,o.people_partially_vaccinated})()}))})();